<div class="grid-exemption tab-container student-semester">
  <div class="ngbTabTitle">
    <div *ngFor="let data of years; index as i" class="year" [class.selected]="currentYear === data.years" [style.left.px]="i * -7"  (click)="loadSemester(data)" >
      <svg [class.float]="currentYear === data.years" width="172" height="64" viewBox="0 0 172 64" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M0 16C0 7.16344 7.16344 0 16 0H135.755C142.315 0 148.211 4.00432 150.629 10.1024L172 64H0V16Z" [attr.fill]="currentYear === data.years ? 'white' : '#EDEFF5' "/>
      </svg>
      <div style="cursor: pointer;" [class.float]="currentYear === data.years">
        <div class="class-year-text" [matTooltip]="data.years">{{ data.years }}</div>
        <div class="class-name-text d-flex justify-content-center mw-85">(
          <span class="overflow-dot overflow-text" [matTooltip]="data.name">{{ data.name }}</span>  
        )</div>
      </div>
    </div>
  </div>
  <div class="ngbTabContent">
    <div class="grid-semester">
      <ag-grid-angular 
        style="width: 100%; height: 150px;" 
        class="ag-theme-balham" 
        [rowData]="rowData" [columnDefs]="columnDefs" 
        [overlayNoRowsTemplate]="overlayNoRowsTemplate"
        [headerHeight]="headerHeight" [rowHeight]="rowHeight"
        (gridReady)="gridSemesterReady($event)"
        (gridSizeChanged)="gridSemesterSizeChanged($event)"
        >
      </ag-grid-angular>
     </div>
  </div>

</div>

<div class="student-score">
  <div style="background: white; padding: 24px; border-radius: 10px;">
    <div class="ngbTabTitle border-bottom" style="height: 30px;">
      <div class="semester" [class.selected]="currentSemester == data.value" *ngFor="let data of semesters" >
        <div style="height: 100%;" (click)="loadGridScore(data.value)">
          {{data.name}}
        </div>
      </div>
    </div>

    <div class="content1">
      <div style="display: flex; margin-top: 20px;">
        <svg width="4" height="20" viewBox="0 0 4 20" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M0 0H1C2.65685 0 4 1.34315 4 3V17C4 18.6569 2.65685 20 1 20H0V0Z" fill="#101840" />
        </svg>
        <h3 class="title-tab">{{ 'STUDENT.SCORE.CALCULATION' | translate }}</h3>
      </div>

      <div class="grid-score">
        <ag-grid-angular 
          style="width: 100%; height: 400px;" 
          class="ag-theme-balham" 
          [rowData]="rowDataScore" [columnDefs]="columnDefsScore" 
          [overlayNoRowsTemplate]="overlayNoRowsTemplate"
          [headerHeight]="hasChildColumn ? 32 : 64" [rowHeight]="rowHeight"
          (gridReady)="gridScoreReady($event)"
          (gridSizeChanged)="gridScoreSizeChanged($event)"
          >
        </ag-grid-angular>
      </div>

      <div style="display: flex; margin-top: 20px;">
        <svg width="4" height="20" viewBox="0 0 4 20" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M0 0H1C2.65685 0 4 1.34315 4 3V17C4 18.6569 2.65685 20 1 20H0V0Z" fill="#101840" />
        </svg>
        <h3 class="title-tab">{{ 'STUDENT.SCORE.RANK' | translate }}</h3>
      </div>

      <div class="grid-rank">
        <ag-grid-angular 
          style="width: 100%; height: 230px;" 
          class="ag-theme-balham" 
          [rowData]="rowDataRank" [columnDefs]="columnDefsRank" 
          [overlayNoRowsTemplate]="overlayNoRowsTemplate"
          headerHeight="64" [rowHeight]="rowHeight"
          (gridReady)="gridRankReady($event)"
          (gridSizeChanged)="gridRankSizeChanged($event)"
          >
        </ag-grid-angular>
      </div>
    </div>
  </div>
</div> 